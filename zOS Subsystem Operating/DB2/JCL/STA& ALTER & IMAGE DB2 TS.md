# Start DB2 Tablespace with RW access. Alter DB2 Tablespace with DROP PENDING CHANGES. Make a full DB2 Tablespace image copy

```
//${USERID}1 JOB (${JOB_ACCOUNTING_INFO}),'ALTER IMAGE DB2 TS',REGION=2M,
//        MSGCLASS=H,CLASS=${JOB_CLASS}
//START1    EXEC PGM=IKJEFT01,DYNAMNBR=20
//SYSTSPRT  DD SYSOUT=*
//STEPLIB   DD DSN=${DB2_SDSNLOAD},DISP=SHR
//SYSPRINT  DD SYSOUT=*
//SYSUDUMP  DD SYSOUT=*
//SYSOUT    DD SYSOUT=*
//SYSTSIN   DD *
 DSN SYSTEM(${SUBSYSTEM_NAME})
 -STA DB(@{DB2_TS_2}) SPACENAM(@{DB2_TS_3}) ACCESS(RW)
 END
//SYSIN     DD DUMMY
//ALTER1    EXEC PGM=IKJEFT01
//STEPLIB   DD  DSN=${DB2_SDSNLOAD},
//             DISP=SHR
//SYSTSIN   DD  *
 DSN SYSTEM(${SUBSYSTEM_NAME})
 RUN PROGRAM(DSNTEP2) PLAN(DSNTEP11)  -
 LIB('${DB2_RUNLIB_LOAD}')
 END
//*
//SYSIN     DD  *
 ALTER TABLESPACE @{DB2_TS_2}.@{DB2_TS_3} DROP PENDING CHANGES;
/*
//SYSTSPRT  DD  SYSOUT=*
//SYSPRINT  DD  SYSOUT=*
//* DELETE THIS STEP IF YOU HAVE ALREADY CREATED GDG
//* GDG FOR FULL IMAGE COPY DATA SETS
//DEFGDG   EXEC PGM=IDCAMS
//SYSPRINT DD SYSOUT=*
//SYSIN    DD *
  DEFINE GDG (NAME (DSNB10.${SUBSYSTEM_NAME}.IC.@{DB2_TS_2}.@{DB2_TS_3}) +
  LIMIT(2) SCRATCH)
/*
//COPY1     EXEC DSNUPROC,SYSTEM=${SUBSYSTEM_NAME},
//             LIB='${DB2_SDSNLOAD}',
//             UID=''
//SYSCOPY   DD DSN=DSNB10.${SUBSYSTEM_NAME}.IC.@{DB2_TS_2}.@{DB2_TS_3}(+1),
//             DISP=(NEW,CATLG),
//             SPACE=(TRK,(15,5),RLSE),
//             UNIT=SYSDA
//SYSIN     DD  *
  COPY TABLESPACE @{DB2_TS_2}.@{DB2_TS_3} DSNUM ALL
  FULL YES
```
